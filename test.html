<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .animTxt
        {
            width: 200px;
            height: 200px;
        }
        .animTxt>span {
            opacity: 0;
            transition: 0.2s;
        }
        .animTxt>span.visible {
            opacity: 1;
        }
        .speaker {
            font-weight: bold;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>

    <div class="dialogueBox">
        <div class="imgSpeaker"></div>
        <div class="speaker"></div>
        <div class="animTxt">click</div>
    </div>
    <script>
// animation texte
const storyDiv = document.querySelector(".dialogueBox");
const animDiv = document.querySelector(".animTxt");
const speakerDiv = document.querySelector(".speaker");
const imgSpeaker = document.querySelector(".imgSpeaker");

let clickCount = 0;

const story = [

// recupérer la bonne histoire en bas du code

];

function animText(text) {
    let output = "";
    for (const letter of text) {
        output += `<span>${letter}</span>`;
    }
    animDiv.innerHTML = output;
    [...animDiv.children].forEach((span, index) => {
        setTimeout(() => {
            span.classList.add("visible");
        }, 50 * index);
    });
}

storyDiv.addEventListener("click", () => {
    if (clickCount < story.length)
    {
        const dialogue = story[clickCount];
        speakerDiv.innerHTML = dialogue.character;
        if (dialogue.character == "you")
        {
            imgSpeaker.innerHTML = "<img src='img/siteImg/player.png'>";
        }
        else imgSpeaker.innerHTML = "";
        animText(dialogue.text);
        clickCount++;
    }
    else
    {
        document.body.style.background = "red";
    }
});
    </script>
</body>
</html>

<script>
// before games
const story = [
    {
        character: "",
        text: "It was a nice friday afternoon and you were walking near the musée des beaux arts."
    },
    {
        character: "",
        text: "But suddenly you see a group of suspicious looking people rush out of the museum with a bunch of paintings."
    },
    {
        character: "",
        text: "You decide that you should probably chase them before they escape and leave with the paintings."
    },
    {
        character: "You",
        text: "I need to go over the bench if I want to catch up to them !"
    }
];

// game 1
const story = [
    {
        character: "You",
        text: "Get back here ! I won't let you steal those paintings !"
    },
    {
        character: "Thief",
        text: "And how are you planning to stop us ?"
    },
    {
        character: "You",
        text: "I challenge you to a duel !"
    },
    {
        character: "",
        text: "the thieves look amused and one of them confidently accepts the challenge"
    }
];

// game 3
const story = [
    {
        character: "Museum staff",
        text: "Thank you again for stopping the thieves and bringing back the paintings, we are really grateful for your help !"
    },
    {
        character: "You",
        text: "No worries I'm happy to have helped the museum !"
    },
    {
        character: "Museum staff",
        text: "We would like to reward you for your actions please accept it."
    },
    {
        character: "",
        text: "The museum staff hands you a notebook and a pencil (average school rewards be like :)" 
        // a finir et mettre un reward normal (a part si on veux garder ma blague (elle est drole (trust me (it's funny))))
    }
];
</script>